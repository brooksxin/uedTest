<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="zw.ico">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>瀑布流_分组</title>
<script src="../jquery.js" type="text/javascript"></script>
<style type="text/css">
body {
	margin: 0 30px;
	background: #ccc;
}
.col {
	float: left;
	width: 220px;
	overflow: hidden;
}
.sub{
	background:#0CF;
	border:#069 1px solid;
	display:inline-block;
	width:205px;
	margin:5px 0;
	color: #fff;
	text-align: center;
}
img {
	margin-bottom: 15px;
}
</style>
</head>
<body>

<div class="container">
	<div class="col">
		<div class="sub" style="height: 60px;">1-1</div>
		<div class="sub" style="height: 40px;">1-2</div>
		<div class="sub" style="height: 70px;">1-3</div>
	</div>
	<div class="col">
		<div class="sub" style="height: 40px;">2-1</div>
		<div class="sub" style="height: 80px;">2-2</div>
	</div>
	<div class="col">
		<div class="sub" style="height: 130px;">3-1</div>
		<div class="sub" style="height: 70px;">3-2</div>
	</div>
	<div class="col">
		<div class="sub" style="height: 50px;">4-1</div>
		<div class="sub" style="height: 90px;">4-2</div>
	</div>
</div>

<br >
<hr style="clear: both;">
<br >

<div id="pubu">
	
</div>


<script type="text/javascript">
$(function(){
	//定义列数
	var colNum = 5;

	$.post("pubu.json?1=1","",function(data){

		var _colHtml = "";
		for(var i=0; i<colNum; i++){
			_colHtml += '<div class="col">'+
				function(){
					var _imgHtml = "";
					//将数据插入到不同列
					for(var k=0, length=data.length; k<length; k++){
						//拆分到不同的列
						if(k%colNum == i%colNum){
							_imgHtml += '<img src="'+data[k].zurl+'" />';
						}
					}
					return _imgHtml;
				}()
			+'</div>';
		}
		$("#pubu").append(_colHtml).css({"width": 220*colNum+"px"});

	})
});


</script>
</body>
</html>