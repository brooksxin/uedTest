<!DOCTYPE html>
<html>
<head>
<title>套餐</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"></head>
<link rel="stylesheet" type="text/css" href="theme/hum.css">
<link href="nvd3/nv.d3.css" rel="stylesheet" type="text/css">
<script src="nvd3/d3.v3.js"></script>
<script src="nvd3/nv.d3.js"></script>
<script src="nvd3/utils.js"></script>
<script src="nvd3/pie.js"></script>
<style type="text/css">
body {
	background-color: #fff;
}
h1{
	background: #fff;
	color: #CCC;
	padding: 30px 0;
	font-size: 30px;
	text-indent: 10px;
}
.zw {color: #444;}
.zw .fn-left {float: left;}

.zw .ui-toolbar .ui-toolbar-title {
	/*background: #ECE1CF;*/
	/*border-bottom: 1px solid #E3C795;*/
	font-size: 16px;
	font-weight: bold;
}
.zw .ui-panel {
	margin: 0;
	border-radius: 0;
	/*border: 1px solid #F2E3C7;*/
}
.zw .ui-panel-head {
	/*background: #F8F1E6;*/
}
.zw .ui-panel-head-title {
	font-size: 14px;
	font-weight: bold;
}
.zw .ui-list {
	/*background: #F2EBDF;*/
}
.zw .nvd3contain {
	position: relative;
}
#nvd3test {
}
.zw .nvd3list {
	position: absolute;
	left: 135px;
	top: 25px;
}
.zw .nvd3list .cirle {
	width: 10px;
	height: 10px;
	border: 1px solid #fff;
	border-radius: 10px;
	display: inline-block;
	margin-right: 5px;
}
.zw .nvd3list .one {
	background: #1F77B4;
}
.zw .nvd3list .two {
	background: #AEC7E8;
}
.zw .nvd3list .thr {
	background: #FF7F0E;
}
.zw .nvd3list .four {
	background: #FFBB78;
}
</style>
<body class="zw">

<header class="ui-toolbar">
	<button class="ui-toolbar-btn ui-btn-link fn-left" onclick="javascript:history.go(-1);">
		<span class="ui-icon icon-left"></span>
	</button>
	<button class="ui-toolbar-btn fn-right">近期账单</button>
	<h1 class="ui-toolbar-title">当月账单</h1>
</header>
<div class="ui-panel">
	<div class="ui-panel-head fn-clear">
		<h3 class="ui-panel-head-title">当月消费结构图（主号）</h3>
	</div>
	<div class="ui-panel-container">
		<ul class="ui-list">
			<li class="ui-list-item nvd3contain">
				<svg id="nvd3test"></svg>
				<ul class="nvd3list">
					<li><i class="cirle one"></i>套餐及固化（86.40%）</li>
					<li><i class="cirle two"></i>增值业务费（5.06%）</li>
					<li><i class="cirle thr"></i>代收费业务（6.78%）</li>
					<li><i class="cirle four"></i>其他费用（1.76%）</li>
				</ul>
			</li>
		</ul>
	</div>	
</div>

<div class="ui-panel">
	<div class="ui-panel-head fn-clear">
		<h3 class="ui-panel-head-title">当月话费总额</h3>
	</div>
	<div class="ui-panel-container">
		<ul class="ui-list">
			<li class="ui-list-item">
				当月话费总额
				<span class="ui-badge">173.12</span>
			</li>
		</ul>
	</div>	
</div>

<div class="ui-panel">
	<div class="ui-panel-head fn-clear">
		<h3 class="ui-panel-head-title">套餐及固定费</h3>
	</div>
	<div class="ui-panel-container">
		<ul class="ui-list">
			<li class="ui-list-item">
				WLAN时长5元套餐功能费
				<span class="ui-badge">5.00</span>
			</li>
			<li class="ui-list-item">
				后付费4G飞享套餐138元档
				<span class="ui-badge">138.00</span>
			</li>
			<li class="ui-list-item">
				4G流量10元加油包
				<span class="ui-badge">10.00</span>
			</li>
		</ul>
	</div>	
</div>

<div class="ui-panel">
	<div class="ui-panel-head fn-clear">
		<h3 class="ui-panel-head-title">增值业务费</h3>
	</div>
</div>
<script type="text/javascript">
var testdata = [
  { 
    key: "套餐及固化",
    color: "#1F77B4",
    y: 86.40
  },
  { 
    key: "增值业务费",
    color: "#AEC7E8",
    y: 5.06
  },
  { 
    key: "代收费业务",
    color: "#FF7F0E",
    y: 6.78
  },
  { 
    key: "其他费用",
    color: "#FFBB78",
    y: 1.76
  }
];

nv.addGraph(function() {
    // var width = nv.utils.windowSize().width - 40,
    //     height = nv.utils.windowSize().height / 2 - 40;
    // alert(nv.utils.windowSize().width+"               "+nv.utils.windowSize().height/2)
    var width = 250,
    	height = 150;

    var chart = nv.models.pie()
        .values(function(d) { return d })
        .width(width)
        .height(height)
        .color(function(d){return d.data.color});

    d3.select("#nvd3test")
        .datum([testdata])
      .transition().duration(1200)
        .attr('width', width)
        .attr('height', height)
        .call(chart);

    return chart;
});

</script>
</body>
</html>